function create_cookie(e,t,n){if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);var r="; expires="+o.toGMTString()}else var r="";document.cookie=e+"="+t+r+"; path=/"}function read_cookie(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var r=n[o];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return null}function erase_cookie(e){createCookie(e,"",-1)}
function drawClock(){var e=window.theme?light_colors():dark_colors(),r=new Date,t=document.getElementById("miniclock");if(t&&t.getContext){var n=t.getContext("2d"),i=t.width,a=t.height;n.clearRect(0,0,i,a),r.getHours()>11?(drawPie(n,i/2,a/2,i/2,hr(12),hr(7),e.dark),drawPie(n,i/2,a/2,i/2,hr(7),hr(12),e.light)):(drawPie(n,i/2,a/2,i/2,hr(12),hr(6.5),e.light),drawPie(n,i/2,a/2,i/2,hr(6.5),hr(12),e.dark));var o=(3600*r.getHours()+60*r.getMinutes()+r.getSeconds())%43200/43200;drawLine(n,i/2,a/2,i/3,cp(o),i/66,e.hour),drawLine(n,i/2,a/2,i/2.25,cp(r.getMinutes()/60),i/66,e.minute),drawLine(n,i/2,a/2,i/2,cp(r.getSeconds()/60),i/100,e.second),drawCircle(n,i/2,a/2,i/25,e.center),setTimeout(function(){drawClock()},500)}}function drawCircle(e,r,t,n,i){e.save(),e.fillStyle=i,e.beginPath(),e.arc(r,t,n,0,2*Math.PI,!1),e.closePath(),e.fill(),e.restore()}function drawPie(e,r,t,n,i,a,o){var c=Math.PI/180*(360-i),l=Math.PI/180*(360-a);e.save(),e.fillStyle=o,e.beginPath(),e.arc(r,t,n,l,c,!1),e.lineTo(r,t),e.closePath(),e.fill(),e.restore()}function drawLine(e,r,t,n,i,a,o){var c=Math.PI/180*i;e.save(),e.strokeStyle=o,e.lineWidth=a,e.beginPath(),e.moveTo(r,t),e.lineTo(r+n*Math.cos(c),t+n*Math.sin(c)),e.stroke(),e.restore()}function light_colors(){var e={};return e.dark="rgba(0,0,0,0.25)",e.light="rgba(0,0,0,0.1)",e.hour="rgba(0,0,0,1)",e.minute="rgba(96,96,96,1)",e.second="rgba(128,128,128,1)",e.center="rgba(0,0,0,0.5)",e}function dark_colors(){var e={};return e.dark="rgba(255,255,255,0.1)",e.light="rgba(255,255,255,0.25)",e.hour="rgba(255,255,255,1)",e.minute="rgba(159,159,159,1)",e.second="rgba(128,128,128,1)",e.center="rgba(255,255,255,0.5)",e}function hr(e){return 90-30*e%360}function cp(e){return 360*e-90}
function lightp(){if(window.matchMedia)return!window.matchMedia("(prefers-color-scheme: dark)").matches;var e=(new Date).getHours();return 19>e&&e>6}function check_time(){window.theme_override||(window.theme=lightp()),document.getElementById("day-css").disabled=window.theme,document.getElementById("night-css").disabled=!window.theme}function clock_button(){window.theme_override=!1,window.theme=lightp(),create_cookie("theme_override",window.theme_override,7),create_cookie("theme",window.theme,7),check_time()}function toggle_button(){window.theme_override=!0,window.theme=!window.theme,create_cookie("theme_override",window.theme_override,7),create_cookie("theme",window.theme,7),check_time()}function day_button(){window.theme_override=!(window.theme&&window.theme_override),window.theme=!0,create_cookie("theme_override",window.theme_override,7),create_cookie("theme",window.theme,7),check_time()}function night_button(){window.theme_override=!(!window.theme&&window.theme_override),window.theme=!1,create_cookie("theme_override",window.theme_override,7),create_cookie("theme",window.theme,7),check_time()}var cookie1=null==read_cookie("theme_override")?!1:"true"==read_cookie("theme_override"),cookie2=null==read_cookie("theme")?!1:"true"==read_cookie("theme");window.theme_override=cookie1,window.theme=window.theme_override?cookie2:lightp(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",function(e){check_time()}),check_time();
window.addEventListener("load",function(){document.getElementById("toggle").onclick=function(){toggle_button()},document.getElementById("miniclock").onclick=function(){clock_button()},check_time(),drawClock()});